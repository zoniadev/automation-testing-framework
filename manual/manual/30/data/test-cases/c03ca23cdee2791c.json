{"uid":"c03ca23cdee2791c","name":"Patient Care nightly -- @1.2 ","fullName":"Nightly tests: Patient Care nightly","historyId":"bfc3305f976066a90da8b42e56f201de","time":{"start":1767717463213,"stop":1767717624846,"duration":161633},"status":"failed","statusMessage":"AssertionError: Page URL expected to be 're.compile('(\\\\?|&)mode=')'\nActual value: http://staging.zonia.com/welcome?existing=true \nCall log:\nPageAssertions.to_have_url with timeout 5000ms\n  - waiting for locator(\":root\")\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n  File \"features/steps/step_definitions.py\", line 50, in user_select_in_docuseries_upsell\n    page.docuseries_buy_upsells(upsell_page, amount=row['bottles'], upsell_downsell=row['upsell_downsell'])\n  File \"/home/runner/work/automation-testing-framework/automation-testing-framework/pages/supplement_upsell.py\", line 206, in docuseries_buy_upsells\n    self.wait_for_navigation(next_page_navigation, timeout=30000)\n  File \"/home/runner/work/automation-testing-framework/automation-testing-framework/pages/base_page_object.py\", line 28, in wait_for_navigation\n    expect(self.context.page).to_have_url(re.compile(r\"(\\?|&)mode=\"))\n  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/playwright/sync_api/_generated.py\", line 18469, in to_have_url\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/playwright/_impl/_assertions.py\", line 127, in to_have_url\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/playwright/_impl/_assertions.py\", line 74, in _expect_impl\n    raise AssertionError(\n","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: Page URL expected to be 're.compile('(\\\\?|&)mode=')'\nActual value: http://staging.zonia.com/welcome?existing=true \nCall log:\nPageAssertions.to_have_url with timeout 5000ms\n  - waiting for locator(\":root\")\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n  File \"features/steps/step_definitions.py\", line 50, in user_select_in_docuseries_upsell\n    page.docuseries_buy_upsells(upsell_page, amount=row['bottles'], upsell_downsell=row['upsell_downsell'])\n  File \"/home/runner/work/automation-testing-framework/automation-testing-framework/pages/supplement_upsell.py\", line 206, in docuseries_buy_upsells\n    self.wait_for_navigation(next_page_navigation, timeout=30000)\n  File \"/home/runner/work/automation-testing-framework/automation-testing-framework/pages/base_page_object.py\", line 28, in wait_for_navigation\n    expect(self.context.page).to_have_url(re.compile(r\"(\\?|&)mode=\"))\n  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/playwright/sync_api/_generated.py\", line 18469, in to_have_url\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/playwright/_impl/_assertions.py\", line 127, in to_have_url\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/playwright/_impl/_assertions.py\", line 74, in _expect_impl\n    raise AssertionError(\n","steps":[{"name":"Given user is on the Patient Care sales page","time":{"start":1767717463271,"stop":1767717475574,"duration":12303},"status":"passed","steps":[],"attachments":[{"uid":"1db8fcaf4abfcd15","name":"stdout","source":"1db8fcaf4abfcd15.txt","type":"text/plain","size":226}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"And user join Zonia","time":{"start":1767717475574,"stop":1767717476474,"duration":900},"status":"passed","steps":[],"attachments":[{"uid":"4f9d658272ae6164","name":"stdout","source":"4f9d658272ae6164.txt","type":"text/plain","size":501}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"When user sign up for \"monthly\" plan","time":{"start":1767717476474,"stop":1767717487453,"duration":10979},"status":"passed","steps":[],"attachments":[{"uid":"e8e5e2dd5494d1ad","name":"stdout","source":"e8e5e2dd5494d1ad.txt","type":"text/plain","size":1040}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"And user makes following decision in docuseries \"Restore Sleep\" Upsell page","time":{"start":1767717487453,"stop":1767717555316,"duration":67863},"status":"passed","steps":[],"attachments":[{"uid":"d4946d7492f82478","name":".table","source":"d4946d7492f82478.csv","type":"text/csv","size":33},{"uid":"78fc6d4b935c90b4","name":"stdout","source":"78fc6d4b935c90b4.txt","type":"text/plain","size":2111}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"And user makes following decision in docuseries \"Restore Detox\" Upsell page","time":{"start":1767717555316,"stop":1767717624810,"duration":69494},"status":"failed","statusMessage":"AssertionError: Page URL expected to be 're.compile('(\\\\?|&)mode=')'\nActual value: http://staging.zonia.com/welcome?existing=true \nCall log:\nPageAssertions.to_have_url with timeout 5000ms\n  - waiting for locator(\":root\")\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n  -   locator resolved to <html lang=\"en\">…</html>\n  -   unexpected value \"http://staging.zonia.com/welcome?existing=true\"\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n  File \"features/steps/step_definitions.py\", line 50, in user_select_in_docuseries_upsell\n    page.docuseries_buy_upsells(upsell_page, amount=row['bottles'], upsell_downsell=row['upsell_downsell'])\n  File \"/home/runner/work/automation-testing-framework/automation-testing-framework/pages/supplement_upsell.py\", line 206, in docuseries_buy_upsells\n    self.wait_for_navigation(next_page_navigation, timeout=30000)\n  File \"/home/runner/work/automation-testing-framework/automation-testing-framework/pages/base_page_object.py\", line 28, in wait_for_navigation\n    expect(self.context.page).to_have_url(re.compile(r\"(\\?|&)mode=\"))\n  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/playwright/sync_api/_generated.py\", line 18469, in to_have_url\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/playwright/_impl/_assertions.py\", line 127, in to_have_url\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/playwright/_impl/_assertions.py\", line 74, in _expect_impl\n    raise AssertionError(\n","steps":[],"attachments":[{"uid":"93783ad8b9b5c174","name":".table","source":"93783ad8b9b5c174.csv","type":"text/csv","size":33},{"uid":"807d8549803c300a","name":"screenshot","source":"807d8549803c300a.png","type":"image/png","size":305493},{"uid":"d32e2d17590edf38","name":"stdout","source":"d32e2d17590edf38.txt","type":"text/plain","size":25812}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Then user complete registration","time":{"start":1767717624846,"stop":1767717624846,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"b2152d03d437f387","name":"Test Video","source":"b2152d03d437f387.webm","type":"video/webm","size":3460366}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":9,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"nightly"},{"name":"tag","value":"nightly_docuseries"},{"name":"feature","value":"Nightly tests"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"plan","value":"monthly"},{"name":"rd_bottles","value":"3"},{"name":"rd_upsell_downsell","value":"upgrade"},{"name":"rs_bottles","value":"1"},{"name":"rs_upsell_downsell","value":"upgrade"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":1,"unknown":0,"total":2},"items":[{"uid":"8efe6bb5a943f01a","status":"passed","time":{"start":1765873753239,"stop":1765873937146,"duration":183907}}]},"tags":["nightly","nightly_docuseries"]},"source":"c03ca23cdee2791c.json","parameterValues":["monthly","3","upgrade","1","upgrade"]}